!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("rdux",[],n):"object"==typeof exports?exports.rdux=n():t.rdux=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=2)}([function(t,n,e){"use strict";function r(){for(var t=arguments,n=arguments.length,e=new Array(n),r=0;r<n;r+=1)e[r]=arguments[r];if(0===e.length)return function(t){return t};if(1===e.length)return e[0];var o=e[e.length-1],i=e.slice(0,-1);return function(){return i.reduceRight(function(t,n){return n(t)},o.apply(void 0,t))}}Object.defineProperty(n,"__esModule",{value:!0}),n.compose=n.createStore=n.applyMiddleware=n.unsubscribe=n.subscribe=n.dispatch=n.combineReducers=n.getDataByKey=n.getLastState=n.replaceArrayProp=n.bindActionCreators=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},u=e(1),c=[],f={},a=[],l=[],p=function(){},d=function(t){return t.replace(/\[([0-9]+)\]/g,".$1")},s=function(){return c[c.length-1]},h=function(t){return c[c.length-1-t]},v=function(t,n){if(n){for(var e=d(t.replace(/^state\./,"")).split("."),r=n,o=0,i=e.length;o<i;o+=1)if(void 0===(r=r[e[o]]))return r;return r}},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c.push(p({},t))},y=function(){var t=s(),n=h(1);Object.keys(f).forEach(function(e){v(e,t)!==v(e,n)&&f[e].forEach(function(t){return t.callback()})}),a.forEach(function(t){return t.callback()})},b=function(t){return p=function(){var n=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),e={},r=s();return Object.keys(t).forEach(function(o){e[o]=t[o](r?r[o]:r,n)}),e}},g=function t(n){if("function"==typeof n)n(t,s);else{var e=n.skipMiddlewares;e||l.forEach(function(e,r){e(l[r+1]||function(n){t(i({},n,{skipMiddlewares:!0}))})(n)}),l.length&&!e||(x(n),y())}},m=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,e={};return Object.keys(t).forEach(function(r){e[r]=function(e){return n(t[r](e))}}),e},j=function(){var t=void 0,n=void 0,e=void 0;return"function"!=typeof(arguments.length<=0?void 0:arguments[0])?(t=arguments.length<=0?void 0:arguments[0],n=(arguments.length<=1?void 0:arguments[1])||function(){},e=arguments.length<=2?void 0:arguments[2]):(t=(0,u.generateUUID)(),n=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1]),e?k(t,e,n):E(t,n)},S=function(t,n){return n&&n.length?O(t,n):M(t)},k=function(t,n,e){return n.map(d).forEach(function(n){var r=f[n];r?r.push({id:t,callback:e}):f[n]=[{id:t,callback:e}]}),function(){return O(t,n)}},O=function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map(d).forEach(function(n){var e=f[n];if(e)for(var r=0,o=e.length;r<o;r+=1)if(e[r].id===t){e.splice(r,1),e.length||delete f[n];break}})},E=function(t,n){return a.find(function(n){return n.id===t})||a.push({id:t,callback:n}),function(){return M(t)}},M=function(t){for(var n=0,e=a.length;n<e;n+=1)if(a[n].id===t){a.splice(n,1);break}},w=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(t){return function(e,o,i){var u=t(e,o,i),c=u.dispatch,f=[],a={getState:u.getState,dispatch:function(t){return c(t)}};return f=n.map(function(t){return t(a)}),c=r.apply(void 0,f)(u.dispatch),Object.assign({},u,{dispatch:c})}}},P=function t(n,e,r){var i="function"==typeof e?e:r,u="object"===(void 0===e?"undefined":o(e))?e:{};if(i&&"function"==typeof i){i(t);return i(t)(n,u)}return x(),{dispatch:g,subscribe:j,getState:s,replaceReducer:function(t){p=t,x({})}}};n.bindActionCreators=m,n.replaceArrayProp=d,n.getLastState=s,n.getDataByKey=v,n.combineReducers=b,n.dispatch=g,n.subscribe=j,n.unsubscribe=S,n.applyMiddleware=w,n.createStore=P,n.compose=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=16*Math.random()|0;return("x"===t?n:3&n|8).toString(16)})}},function(t,n,e){t.exports=e(0)}])});