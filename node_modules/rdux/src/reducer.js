import { combineReducers } from '../dist/rdux';
import {
  SET_TIME,
  ADD_LOG,
  CLEAR_LOGS,
} from './actions';

const initialTimeReducerState = {
  time: (new Date()).getTime(),
};
const timeReducer = (state = initialTimeReducerState, { type, payload }) => {
  switch (type) {
    case SET_TIME:
      return {
        ...state,
        time: payload,
      };

    default:
      return state;
  }
};

const initialLogReducerState = {
  logs: [],
};
const logReducer = (state = initialLogReducerState, { type, payload }) => {
  switch (type) {
    case ADD_LOG:
      return {
        ...state,
        logs: state.logs.concat([payload]),
      };

    case CLEAR_LOGS:
      return {
        ...state,
        logs: [],
      };

    default:
      return state;
  }
};

export default combineReducers({
  time: timeReducer,
  log: logReducer,
});